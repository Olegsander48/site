<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html" lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="description" content="CheckDev - пробные собеседования в IT.">
    <title th:text="${'Обновить пароль ' + userInfo.username}">Обновить пароль ИМЯ_ПРОФИЛЯ</title>

    <!-- favicon -->
    <link rel="icon" type="image/svg+xml" href="/img/icons/svg/check-double-solid_dark.svg">

    <!-- Required meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- fontawesome-free-6.3.0-web -->
    <link th:href="@{/webjars/font-awesome/6.3.0/css/all.min.css}" rel="stylesheet">
    <!-- Bootstrap 5.3.2 -->
    <link th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/webjars/bootstrap/5.3.2/js/bootstrap.min.js}"></script>
    <!-- Popper.js 2.11.7 -->
    <script th:src="@{/webjars/popper.js/2.11.7/umd/popper.js}"></script>
    <!-- Jquery.js 3.7.1 -->
    <script th:src="@{/webjars/jquery/3.7.1/jquery.min.js}"></script>
    <!-- Summernote 0.8.10 -->
    <link th:href="@{/webjars/summernote/0.8.10/summernote-lite.css}" rel="stylesheet">
    <script th:src="@{/webjars/summernote/0.8.10/summernote-lite.js}"></script>
    <script th:src="@{/webjars/summernote/0.8.10/lang/summernote-ru-RU.js}"></script>
    <script>
        $(document).ready(function() {$("form").submit(validate);});

        function validate() {
            var pass1 = $("#newPassword").val();
            var pass2 = $("#repeatPassword").val();

            if (pass1 != pass2) {
                $("#valid").text("Пароли должны совпадать");
                return false;
            }
        };






    </script>
</head>
<body>
<div th:insert="fragments/header :: header"></div>
<div class="container">
    <form th:action="@{/persons/changePassword}" method="post">
        <div th:if="${success == 'false'}" class="alert alert-danger" role="alert">
            <span>Ошибка смены пароля</span>
        </div>
        <div th:if="${success == 'true'}" class="alert alert-success" role="alert">
            <span>Пароль успешно обновлен!</span>
        </div>
        <input type="hidden"
               name="id" th:value="${userInfo.id}">
        <div class="form-group row pb-4">
            <label class="col-sm-4 col-form-label" for="newPassword">
                Введите новый пароль:
            </label>
            <div class="col-sm-8">
                <input class="form-control"
                       id="newPassword" placeholder="Новый пароль" type="password" required>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-4 col-form-label" for="repeatPassword">
                Повторите новый пароль:
            </label>
            <div class="col-sm-8">
                <input class="form-control"
                       id="repeatPassword" placeholder="Повторите пароль" type="password" name="password" required>
                <div class="text-danger" id="valid"></div>
            </div>
        </div>

        <div class="form-group">
            <button class="btn btn-success btn" type="submit">Обновить пароль</button>
        </div>
    </form>
</div>
<div th:insert="fragments/footer :: footer"></div>
</body>
</html>